<!DOCTYPE html>
<html lang="lt">
<head>
  <meta charset="UTF-8" />
  <title>Pridėti reklamą</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <style>
    body {
      background-color: #111;
      color: white;
      padding: 20px;
    }
    .preview {
      margin-top: 20px;
      max-width: 100%;
      max-height: 300px;
      border-radius: 8px;
      border: 1px solid #444;
    }
  </style>
</head>
<body>
<h3>Įkelkite reklamą</h3>
<form id="adForm">
  <div class="mb-3">
    <label for="adImage" class="form-label">Pasirinkite nuotrauką:</label>
    <input type="file" class="form-control" id="adImage" accept="image/*" required />
  </div>
  <button type="submit" class="btn btn-light">Įkelti</button>
</form>

<img id="previewImg" class="preview" src="" alt="Nuotraukos peržiūra" style="display:none;" />

<!-- Grįžti į admin.html mygtukas -->
<button class="btn btn-secondary mt-4" onclick="window.location.href='admin.html'">Grįžti atgal</button>

<script>
  const adForm = document.getElementById('adForm');
  const adImage = document.getElementById('adImage');
  const previewImg = document.getElementById('previewImg');

  adImage.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (file) {
      const url = URL.createObjectURL(file);
      previewImg.src = url;
      previewImg.style.display = 'block';
    } else {
      previewImg.src = '';
      previewImg.style.display = 'none';
    }
  });

  adForm.addEventListener('submit', (e) => {
    e.preventDefault();

    const file = adImage.files[0];
    if (!file) {
      alert('Prašome pasirinkti nuotrauką.');
      return;
    }

    // Čia galima būtų pridėti realų failo įkėlimą į serverį su AJAX,
    // bet kol kas tiesiog imituosime sėkmę:

    alert('Reklama sėkmingai įkelta! (Simuliacija)');
    adForm.reset();
    previewImg.src = '';
    previewImg.style.display = 'none';
  });
</script>
</body>
</html>
